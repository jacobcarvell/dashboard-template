<!DOCTYPE html>
<html>
<head>
    <title>Drillhole Validation</title>
	<meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="bootstrap.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <script src="jquery-2.2.0.min.js"></script>
    <script src="tether.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="Chart.min.js"></script>
    <script src="scripts.js"></script>
    <script src="jtable.js"></script>


</head>
<body>

    <div class="container" id="wrapper">
        <div class="container" id="navigation">
            <nav class="navbar navbar-fixed-top navbar-dark bg-inverse" style="background-color: #34495e">
                <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2">&#9776;</button>
                <div class="collapse navbar-toggleable-xs" id="exCollapsingNavbar2">
                    <a class="navbar-brand" href="index.html">DASHBOARD</a>
                    <div class="nav navbar-nav">
                        <a class="nav-item nav-link" href="index.html">All</a>
                        <a class="nav-item nav-link" href="faces.html">Faces</a>
                        <a class="nav-item nav-link" href="stopes.html">Stopes</a>
                        <div class="dropdown nav-item">
                            <a class="nav-item nav-link dropdown-toggle active" href="#" id="dLabel" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Drilling <span class="sr-only">(current)</a>
                            <div class="dropdown-menu" aria-labelledby="dLabel">
                                <a class="dropdown-item" href="drilling.html">Production</a>
                                <a class="dropdown-item" href="#">Data Validation</a>
                                <a class="dropdown-item" href="grouting.html">Grouting</a>
                            </div>
                        </div>
                        <a class="nav-item nav-link" href="mill.html">Mill</a>
                        <a class="nav-item nav-link pull-md-right" href="dailyreport.html">Daily Report</a>
                    </div>
                </div>
            </nav>
        </div>

        <div class="row">
            <div class="col-sm-12 col-md-12" style="padding: 0">
                <div class="card">
                    <h3 class="card-header">Drillhole Validation</h3>
                    <div class="card-block">
                        <div class="card-text table-responsive" id="drillValidation"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        $(document).ready(function () {

            var data = [{"Hole_ID":"HOLE001","DateStarted":"19\/06\/2016","DateCompleted":"19\/06\/2016","Orig_Survey_Method":"COLL","Max_Depth":"999.0","MetaDepth":"0.0","LithDepth":"0.0","AltDepth":"0.0","VeinDepth":"0.0","Logged_By":null,"CollSurvey":"PLAN","MaxSurveyDepth":"117.0"},
{"Hole_ID":"HOLE002","DateStarted":"15\/06\/2016","DateCompleted":"18\/06\/2016","Orig_Survey_Method":"COLL","Max_Depth":"189.2","MetaDepth":"189.2","LithDepth":"189.2","AltDepth":"189.2","VeinDepth":"177.5","Logged_By":"Geologist","CollSurvey":"PLAN","MaxSurveyDepth":"171.0"},
{"Hole_ID":"HOLE003","DateStarted":"08\/06\/2016","DateCompleted":"15\/06\/2016","Orig_Survey_Method":"COLL","Max_Depth":"290.9","MetaDepth":"290.9","LithDepth":"290.9","AltDepth":"290.9","VeinDepth":"244.1","Logged_By":"Geologist","CollSurvey":"PLAN","MaxSurveyDepth":"290.0"},
{"Hole_ID":"HOLE004","DateStarted":"15\/04\/2016","DateCompleted":"24\/04\/2016","Orig_Survey_Method":"COLL","Max_Depth":"300.0","MetaDepth":"100.0","LithDepth":"100.0","AltDepth":"100.0","VeinDepth":"100.0","Logged_By":"Geologist","CollSurvey":"COLL","MaxSurveyDepth":"295.0"},
{"Hole_ID":"HOLE005","DateStarted":"15\/04\/2016","DateCompleted":"24\/04\/2016","Orig_Survey_Method":"COLL","Max_Depth":"250.0","MetaDepth":"250.0","LithDepth":"250.0","AltDepth":"250.0","VeinDepth":"250.0","Logged_By":"Geologist","CollSurvey":"COLL","MaxSurveyDepth":"12.0"},
{"Hole_ID":"HOLE006","DateStarted":"15\/04\/2016","DateCompleted":"24\/04\/2016","Orig_Survey_Method":"COLL","Max_Depth":"353.8","MetaDepth":"353.8","LithDepth":"353.8","AltDepth":"353.8","VeinDepth":"353.8","Logged_By":"Geologist","CollSurvey":"COLL","MaxSurveyDepth":"330.0"},
{"Hole_ID":"HOLE007","DateStarted":"07\/04\/2016","DateCompleted":"16\/04\/2016","Orig_Survey_Method":"COLL","Max_Depth":"261.0","MetaDepth":"261.0","LithDepth":"261.0","AltDepth":"261.0","VeinDepth":"261.0","Logged_By":"Geologist","CollSurvey":"COLL","MaxSurveyDepth":"261.0"},
{"Hole_ID":"HOLE008","DateStarted":"02\/01\/2016","DateCompleted":"03\/01\/2016","Orig_Survey_Method":"COLL","Max_Depth":"32.1","MetaDepth":"32.1","LithDepth":"32.1","AltDepth":"32.1","VeinDepth":"0.0","Logged_By":"Geologist","CollSurvey":"PLAN","MaxSurveyDepth":"30.0"},
{"Hole_ID":"HOLE009","DateStarted":"06\/02\/2016","DateCompleted":"06\/02\/2016","Orig_Survey_Method":"COLL","Max_Depth":"9.9","MetaDepth":"9.9","LithDepth":"9.9","AltDepth":"9.9","VeinDepth":"9.9","Logged_By":"Geologist","CollSurvey":"COLL","MaxSurveyDepth":"0.0"},
{"Hole_ID":"HOLE010","DateStarted":"06\/02\/2016","DateCompleted":"06\/02\/2016","Orig_Survey_Method":"COLL","Max_Depth":"9.9","MetaDepth":"9.9","LithDepth":"9.9","AltDepth":"9.9","VeinDepth":"9.9","Logged_By":"Geologist","CollSurvey":"COLL","MaxSurveyDepth":"0.0"}];

            jTable_basic("#drillValidation", data,
            ["Hole ID", " Date Started", "Date Finished", "Collar Point", "Collar Depth", "Metadata Depth", "Lithology Depth", "Alteration Depth", "Vein Depth", "Logged By", "0m Survey Type", "Max Survey Depth"]);
            formatting();

            // $.ajax({
            // url: 'php/dhvalidation.php',
            // type: "GET",
            // dataType: "json",
            // success: function(data) {
            //     jTable_basic("#drillValidation", data,
            //     ["Hole ID", " Date Started", "Date Finished", "Collar Point", "Collar Depth", "Metadata Depth", "Lithology Depth", "Alteration Depth", "Vein Depth", "Logged By", "0m Survey Type", "Max Survey Depth"]);
            //     formatting();
            //     }
            // });

        });

        function formatting() {
            $('#drillValidation tr').each(function (i, row) {
                var arr = [];
                arr.push($(this).children().toArray());
                if (i != 0){
                    if (arr[0][2].textContent == "null") {
                        $(this).find(':nth-child(3)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][3].textContent != "COLL") {
                        $(this).find(':nth-child(4)').addClass("table-warning");
                        $(this).find(':nth-child(1)').addClass("table-warning");
                    }
                    if (arr[0][2].textContent == "null") {
                        $(this).find(':nth-child(7)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][4].textContent == "999.0") {
                        $(this).find(':nth-child(5)').addClass("table-warning");
                        $(this).find(':nth-child(1)').addClass("table-warning");
                    }
                    if (arr[0][4].textContent != arr[0][5].textContent) {
                        $(this).find(':nth-child(6)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][4].textContent != arr[0][6].textContent) {
                        $(this).find(':nth-child(7)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][4].textContent != arr[0][7].textContent) {
                        $(this).find(':nth-child(8)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][8].textContent == "0.0") {
                        $(this).find(':nth-child(9)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][9].textContent == "null") {
                        $(this).find(':nth-child(10)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                    if (arr[0][10].textContent != "COLL" && arr[0][10].textContent != "PLAN") {
                        $(this).find(':nth-child(11)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    } else if (arr[0][10].textContent == "PLAN") {
                        $(this).find(':nth-child(11)').addClass("table-warning");
                        $(this).find(':nth-child(1)').addClass("table-warning");
                    }
                    if (arr[0][4].textContent - arr[0][11].textContent > 10 || arr[0][11].textContent == "null") {
                        $(this).find(':nth-child(12)').addClass("table-danger");
                        $(this).find(':nth-child(1)').addClass("table-danger");
                    }
                }
            });
        }
    </script>

</body>
</html>
